- # 一、简介：[问题排查，日志难](https://docs.58corp.com/#/space/1619941563754934272)
	- 开发一套统一规范的日志库：
	- ### 1、各模块日志 tag 不统一
	  collapsed:: true
		- 如埋点内部，埋点策略、埋点写入、上报分成多个一级 tag；RN Native、JS、Error 等同样也是多个一级 tag，无法根据 tag 快速查看单个模块的日志。需要区分出一级 tag 和二级 tag。
		- 解决：配置定义主TAG和二级TAG(按功能模块区分)。log输出时 主TAG-二级TAG
			- @UnityLogConfig(
			      className = "DemoUnityLogger",
			      primaryKey = TagAnnotation(
			          key = "UnityLogSDK",
			          des = "统一标准日志SDK"
			      ),
			      tags = arrayOf(
			          TagAnnotation(
			              key = "testModule",
			              des = "测试"
			          ),
			          TagAnnotation(
			              key = "runModules",
			              des = "执行组件"
			          )
			      )
			  )
			  class DemoUnityLogConfig {
			  
			  }
	- ### 2、关键模块日志缺失 (需要补全)
		- 如核心业务的执行流程、跨端/跨应用/跨模块等的通信过程、长时间运行组件的行为/状态切换、多个分支逻辑的判断等。
		-
- # 功能一、编译期收集注解信息，获取所有的组件模块，在 UnifyLogSDK 初始化时，输出 help
  collapsed:: true
	- help:
	  collapsed:: true
		- ```
		  UnifyLog 注册的组件信息如下：
		  (你可以使用 adb logcat | grep $primaryKey 过滤出组件的所有日志，
		  使用 adb logcat | grep $primaryKey-$tag 过来出组件子模块的日志，如 xxx,
		  使用 adb logcat | grep UnifyLogSmart 过来出日志库智能提示，包括 xxx 状态变化通知)
		  
		  --------------------------------------------------------------
		  primaryKey: WubaRNSDK
		  
		  描述：RN SDK
		  
		  tag：
		    1. hotUpdate：热更新
		    2. runModules：执行组件
		    ...
		  --------------------------------------------------------------
		  primaryKey: WubaHybridSDK
		  
		  描述：Hybrid SDK
		  
		  tag：
		    1. web init：web 初始化
		    2. web preload：预加载
		    ...
		  --------------------------------------------------------------
		  ```
	- 原理见常见问题中
- # 功能二、API设计
-
-
-
-
-
- # [[日志库常见问题]]