- ![常量池.png](../assets/常量池_1684832361384_0.png)
- # 一、简介
	- **[[#red]]==class类信息及其class文件常量池是字节码的二进制流==**，它代表的是一个类的静态存储结构，JVM加载类时，需要将其转换为方法区中的`java.lang.Class`类的对象实例；同时，会将class文件常量池中的内容导入`运行时常量池`。
- # 二、JVM在加载某个class的时候，需要完成以下任务
	- 1、通过该class的全限定名来[[#red]]==获取它的二进制字节流==，即[[#red]]==读取其字节码文件==。其内容包括在章节`二、class文件常量池`中介绍的[[#red]]==class文件常量池。==
	- 2、[[#red]]==将读入的字节流从静态存储结构转换为方法区中的运行时的数据结构。==
		- 工作：
			- 将class文件常量池内容导入运行时常量池。
			- class文件常量池是一个class文件对应一个常量池，而运行时常量池只有一个
			- 多个class文件常量池中的相同字符串只会对应运行时常量池中的一个字符串。
	- 3、在Java堆中生成[[#red]]==该class对应的类对象，代表该class原信息==。这个类对象的类型是`java.lang.Class`，它与普通对象不同的地方在于，普通对象一般都是在new之后创建的，而[[#red]]==类对象是在类加载的时候创建的，且是单例==。
- # 三、注意
	- 运行时常量池除了导入class文件常量池的内容，还会保存符号引用对应的直接引用(实际内存地址)。这些直接引用是JVM在类加载之后的链接(验证、准备、解析)阶段从符号引用翻译过来的。
	- 此外，运行时常量池具有动态性的特征，它的内容并不是全部来源与编译后的class文件，在运行时也可以通过代码生成常量并放入运行时常量池。比如`String.intern()`方法。
	- 要注意的是，**[[#red]]==运行时常量池中保存的“常量”依然是 字面量 和 符号引用==** 。[[#red]]==**比如字符串，这里放的仍然是单纯的文本字符串，而不是String对象。**==
-