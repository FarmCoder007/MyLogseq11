- ## 详细见 [[AMS启动流程-粗略]]
- # 前言、AMS是在SystemServer中被添加的，
- # 1、SystemServer.run()方法中
	- ## 1-1、创建SystemServiceManager(管理启动的各种服务)
	- ## 1-2、启动引导服务，核心服务，其他服务，AMS就是在引导服务中添加的
- # 2、在启动引导服务中，初始化AMS
	- ### 1、通过SystemServiceManager.startService，一系列调用，最终反射初始化ActivityManagerService.Lifecycle对象
	- ### 2、Lifecycle的构造函数中初始化AMS对象
	- ### 3、同时将AMS添加到SystemServiceManager服务列表中
- # 3、SystemService.onStart()启动AMS
- # 4、通过setSystemServiceManager设置AMS的系统服务管理器
- # 5、通过setInstaller设置AMS的APP安装器
- # 6、初始化AMS相关的（PMS）PowerManagerService和WindowsManagerService(wms)
- # 7、通过setSystemProcess将AMS等服务注册到SM中，以便其他组件通过SM获取 注册这些服务对应的Binder对象，进行IPC通信
- # 8、mActivityManagerService.systemReady初始化完成
-